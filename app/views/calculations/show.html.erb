<!-- app/views/calculations/show.html.erb -->
<h1 class="h5 mb-3">Consulta registrada</h1>

<ul class="list-group mb-3">
  <li class="list-group-item"><strong>Processo:</strong> <%= @calculation.processo %></li>
  <li class="list-group-item"><strong>Crime:</strong> <%= @calculation.crime %></li>
  <li class="list-group-item"><strong>Pena:</strong> <%= @calculation.pena %></li>
  <li class="list-group-item"><strong>Data inicial:</strong>
    <%= @calculation.start_date ? l(@calculation.start_date, format: :br) : "-" %>
  </li>
  <li class="list-group-item"><strong>Idade:</strong> <%= @calculation.age %></li>
  <li class="list-group-item"><strong>Prescreve em:</strong>
    <%= @calculation.expires_on ? l(@calculation.expires_on, format: :br) : "-" %>
  </li>
  <li class="list-group-item"><strong>Resultado:</strong>
    <% if @calculation.result == "Prescrito" %>
      <span class="badge text-bg-danger">Prescrito</span>
    <% else %>
      <span class="badge text-bg-success">Não prescrito</span>
    <% end %>
  </li>
</ul>

<div class="d-flex gap-2">
  <%= link_to "Baixar PDF",
              download_pdf_calculation_path(@calculation),
              class: "btn btn-outline-secondary",
              data: { turbo: false } %>
  <%= link_to "Nova consulta", new_calculation_path, class: "btn btn-primary" %>
  <%= link_to "Voltar ao histórico", dashboard_path, class: "btn btn-outline-secondary" %>
  <%= link_to "Excluir",
              calculation_path(@calculation),
              data: { turbo_method: :delete, turbo_confirm: "Confirma excluir esta consulta?" },
              class: "btn btn-outline-danger ms-auto" %>
</div>

